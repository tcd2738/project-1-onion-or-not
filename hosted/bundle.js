(()=>{var t={66:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPlayerHTML:()=>o});const o=e=>`\n    <div id="${e}">\n        <p id="${e}Name"></p>\n        <label>Current guess:</label>\n        <p id="${e}Guess"></p>\n        <form id="${e}GuessForm" action="/addGuess" method="post">\n            <label for="guess">Is it The Onion? ('y' or 'n'): </label>\n            <input type="radio" id="onionY" name="isItOnion${e}" value="y">\n            <label for="onionY">yes</label><br>\n            <input type="radio" id="onionN" name="isItOnion${e}" value="n">\n            <label for="onionN">no</label><br>\n            <input type="submit" value="Post Guess Method" />\n        </form>\n        <label>Points:</label>\n        <p id="${e}Points"></p>\n        <label>Current Streak:</label>\n        <p id="${e}Streak"></p>\n        <button id="remove${e}Button" action="/removeUser" method="post" type="button">Stop playing?</button>\n    </div>\n    `},299:(t,n,o)=>{const a=o(66),s=async(e,t)=>{const n=document.querySelector("#content");switch(e.status){case 200:n.innerHTML="<b>Success</b>";break;case 201:n.innerHTML="<b>Created</b>";break;case 202:n.innerHTML="<b>Accepted</b>";case 204:return void(n.innerHTML="<b>Updated (No Content)</b>");case 400:n.innerHTML="<b>Bad Request</b>";break;case 404:n.innerHTML="<b>Not Found</b>";break;default:n.innerHTML="<b>Response code not implemented by client.</b>"}if(t){let t=await e.json();t.message?n.innerHTML+=`<p>${t.message}</p>`:t&&(n.innerHTML+=`<p>${JSON.stringify(t)}</p>`),console.log(t)}},i=async(e,t)=>{const n=e.getAttribute("action"),o=e.getAttribute("method"),a=`name=${t}`;let i=await fetch(n,{method:o,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:a});202==i.status&&(document.getElementById(t).innerHTML=""),s(i,"head"!==o)},r=async(e,t)=>{const n=e.getAttribute("action"),o=e.getAttribute("method"),a=document.getElementsByName("isItOnion"+t);let i;for(let e of a)e.checked&&(i=e.value);const r=`name=${t}&isOnion=${i}`;let d=await fetch(n,{method:o,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:r});201==d.status&&(document.getElementById(t+"Guess").innerHTML=i),s(d,"head"!==o)};t.exports={requestUpdate:async e=>{const t=e.querySelector("#getUrlField").value,n=e.querySelector("#methodSelect").value;let o=await fetch(t,{method:n,headers:{Accept:"application/json"}});s(o,"head"!==n)},userPostAdd:async t=>{const n=t.action,o=t.method,d=t.querySelector("#nameField").value,c=`name=${d}`;let l=await fetch(n,{method:o,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:c});201==l.status&&(t=>{document.getElementById("currentUsers").innerHTML+=a.createPlayerHTML(t);const n=document.getElementById("remove"+t+"Button"),o=document.getElementById(t+"GuessForm");n.addEventListener("click",(()=>(i(n,t),!1))),o.addEventListener("submit",(e=>(e.preventDefault(),r(o,t),!1))),document.getElementById(t+"Name").innerHTML=t,document.getElementById(t+"Points").innerHTML=0,document.getElementById(t+"Streak").innerHTML=0;const s=document.getElementsByClassName("hide");for(e of s)e.classList.remove("hide")})(d),s(l,"head"!==o)},userPostRemove:i,guessPost:r,nextQuestion:async()=>{let e=await fetch("/updatePointsStreaks",{method:"put",headers:{Accept:"application/json"}});s(e,!1);let t=await fetch("/getGameData",{method:"get",headers:{Accept:"application/json"}});(await t.json()).users;let n=await fetch("/getNextArticle",{method:"get",headers:{Accept:"application/json"}});s(n,!1);const o=document.querySelector("#articleTitle"),a=await n.json();o.innerHTML=a.title},sendPut:async e=>{const t=e.getAttribute("action"),n=e.getAttribute("method");let o=await fetch(t,{method:n,headers:{Accept:"application/json"}});s(o,!1)}}}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=o(299);window.onload=()=>{const t=document.getElementById("getForm"),n=document.getElementById("addUserForm"),o=document.getElementById("nextQuestion");t.addEventListener("submit",(n=>(n.preventDefault(),e.requestUpdate(t),!1))),n.addEventListener("submit",(t=>(t.preventDefault(),e.userPostAdd(n),!1))),o.addEventListener("click",(t=>(e.nextQuestion(),!1)))}})()})();